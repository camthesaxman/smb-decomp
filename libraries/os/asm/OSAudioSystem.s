.include "macros.inc"

.section .text, "ax"  # 0x800065A0 - 0x8010F860

.global __OSInitAudioSystem
__OSInitAudioSystem:
/* 800C2CB0 000BEBD0  7C 08 02 A6 */	mflr r0
/* 800C2CB4 000BEBD4  3C 60 80 1E */	lis r3, lbl_801E6248@ha
/* 800C2CB8 000BEBD8  90 01 00 04 */	stw r0, 4(r1)
/* 800C2CBC 000BEBDC  38 83 62 48 */	addi r4, r3, lbl_801E6248@l
/* 800C2CC0 000BEBE0  3C 60 81 00 */	lis r3, 0x8100
/* 800C2CC4 000BEBE4  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 800C2CC8 000BEBE8  38 A0 00 80 */	li r5, 0x80
/* 800C2CCC 000BEBEC  BF 21 00 14 */	stmw r25, 0x14(r1)
/* 800C2CD0 000BEBF0  4B F4 07 45 */	bl memcpy
/* 800C2CD4 000BEBF4  3C 60 81 00 */	lis r3, 0x8100
/* 800C2CD8 000BEBF8  38 80 00 80 */	li r4, 0x80
/* 800C2CDC 000BEBFC  48 00 02 85 */	bl DCFlushRange
/* 800C2CE0 000BEC00  3C 60 CC 00 */	lis r3, 0xCC005000@ha
/* 800C2CE4 000BEC04  38 63 50 00 */	addi r3, r3, 0xCC005000@l
/* 800C2CE8 000BEC08  38 00 00 43 */	li r0, 0x43
/* 800C2CEC 000BEC0C  B0 03 00 12 */	sth r0, 0x12(r3)
/* 800C2CF0 000BEC10  3B E3 00 0A */	addi r31, r3, 0xa
/* 800C2CF4 000BEC14  38 00 08 AC */	li r0, 0x8ac
/* 800C2CF8 000BEC18  B0 03 00 0A */	sth r0, 0xa(r3)
/* 800C2CFC 000BEC1C  A0 03 00 0A */	lhz r0, 0xa(r3)
/* 800C2D00 000BEC20  60 00 00 01 */	ori r0, r0, 1
/* 800C2D04 000BEC24  B0 03 00 0A */	sth r0, 0xa(r3)
lbl_800C2D08:
/* 800C2D08 000BEC28  A0 1F 00 00 */	lhz r0, 0(r31)
/* 800C2D0C 000BEC2C  54 00 07 FF */	clrlwi. r0, r0, 0x1f
/* 800C2D10 000BEC30  40 82 FF F8 */	bne lbl_800C2D08
/* 800C2D14 000BEC34  38 00 00 00 */	li r0, 0
/* 800C2D18 000BEC38  3C 80 CC 00 */	lis r4, 0xCC005000@ha
/* 800C2D1C 000BEC3C  B0 04 50 00 */	sth r0, 0xCC005000@l(r4)
lbl_800C2D20:
/* 800C2D20 000BEC40  3B C4 50 00 */	addi r30, r4, 0x5000
/* 800C2D24 000BEC44  A4 7E 00 04 */	lhzu r3, 4(r30)
/* 800C2D28 000BEC48  3B A4 50 00 */	addi r29, r4, 0x5000
/* 800C2D2C 000BEC4C  A4 1D 00 06 */	lhzu r0, 6(r29)
/* 800C2D30 000BEC50  50 60 80 1E */	rlwimi r0, r3, 0x10, 0, 0xf
/* 800C2D34 000BEC54  54 00 00 01 */	rlwinm. r0, r0, 0, 0, 0
/* 800C2D38 000BEC58  40 82 FF E8 */	bne lbl_800C2D20
/* 800C2D3C 000BEC5C  3C 60 CC 00 */	lis r3, 0xCC005000@ha
/* 800C2D40 000BEC60  3C 00 01 00 */	lis r0, 0x100
/* 800C2D44 000BEC64  3B 63 50 00 */	addi r27, r3, 0xCC005000@l
/* 800C2D48 000BEC68  94 1B 00 20 */	stwu r0, 0x20(r27)
/* 800C2D4C 000BEC6C  38 00 00 00 */	li r0, 0
/* 800C2D50 000BEC70  3B 43 50 00 */	addi r26, r3, 0x5000
/* 800C2D54 000BEC74  94 1A 00 24 */	stwu r0, 0x24(r26)
/* 800C2D58 000BEC78  38 00 00 20 */	li r0, 0x20
/* 800C2D5C 000BEC7C  3B 23 50 00 */	addi r25, r3, 0x5000
/* 800C2D60 000BEC80  94 19 00 28 */	stwu r0, 0x28(r25)
/* 800C2D64 000BEC84  A0 7F 00 00 */	lhz r3, 0(r31)
/* 800C2D68 000BEC88  48 00 00 08 */	b lbl_800C2D70
lbl_800C2D6C:
/* 800C2D6C 000BEC8C  A0 7F 00 00 */	lhz r3, 0(r31)
lbl_800C2D70:
/* 800C2D70 000BEC90  54 60 06 B5 */	rlwinm. r0, r3, 0, 0x1a, 0x1a
/* 800C2D74 000BEC94  41 82 FF F8 */	beq lbl_800C2D6C
/* 800C2D78 000BEC98  B0 7F 00 00 */	sth r3, 0(r31)
/* 800C2D7C 000BEC9C  48 00 6C 19 */	bl OSGetTick
/* 800C2D80 000BECA0  7C 7C 1B 78 */	mr r28, r3
lbl_800C2D84:
/* 800C2D84 000BECA4  48 00 6C 11 */	bl OSGetTick
/* 800C2D88 000BECA8  7C 1C 18 50 */	subf r0, r28, r3
/* 800C2D8C 000BECAC  2C 00 08 92 */	cmpwi r0, 0x892
/* 800C2D90 000BECB0  41 80 FF F4 */	blt lbl_800C2D84
/* 800C2D94 000BECB4  3C 00 01 00 */	lis r0, 0x100
/* 800C2D98 000BECB8  90 1B 00 00 */	stw r0, 0(r27)
/* 800C2D9C 000BECBC  38 60 00 00 */	li r3, 0
/* 800C2DA0 000BECC0  38 00 00 20 */	li r0, 0x20
/* 800C2DA4 000BECC4  90 7A 00 00 */	stw r3, 0(r26)
/* 800C2DA8 000BECC8  90 19 00 00 */	stw r0, 0(r25)
/* 800C2DAC 000BECCC  A0 7F 00 00 */	lhz r3, 0(r31)
/* 800C2DB0 000BECD0  48 00 00 08 */	b lbl_800C2DB8
lbl_800C2DB4:
/* 800C2DB4 000BECD4  A0 7F 00 00 */	lhz r3, 0(r31)
lbl_800C2DB8:
/* 800C2DB8 000BECD8  54 60 06 B5 */	rlwinm. r0, r3, 0, 0x1a, 0x1a
/* 800C2DBC 000BECDC  41 82 FF F8 */	beq lbl_800C2DB4
/* 800C2DC0 000BECE0  B0 7F 00 00 */	sth r3, 0(r31)
/* 800C2DC4 000BECE4  A0 1F 00 00 */	lhz r0, 0(r31)
/* 800C2DC8 000BECE8  54 00 05 66 */	rlwinm r0, r0, 0, 0x15, 0x13
/* 800C2DCC 000BECEC  B0 1F 00 00 */	sth r0, 0(r31)
lbl_800C2DD0:
/* 800C2DD0 000BECF0  A0 1F 00 00 */	lhz r0, 0(r31)
/* 800C2DD4 000BECF4  54 00 05 6B */	rlwinm. r0, r0, 0, 0x15, 0x15
/* 800C2DD8 000BECF8  40 82 FF F8 */	bne lbl_800C2DD0
/* 800C2DDC 000BECFC  A0 1F 00 00 */	lhz r0, 0(r31)
/* 800C2DE0 000BED00  54 00 07 B8 */	rlwinm r0, r0, 0, 0x1e, 0x1c
/* 800C2DE4 000BED04  B0 1F 00 00 */	sth r0, 0(r31)
/* 800C2DE8 000BED08  A0 1E 00 00 */	lhz r0, 0(r30)
/* 800C2DEC 000BED0C  48 00 00 08 */	b lbl_800C2DF4
lbl_800C2DF0:
/* 800C2DF0 000BED10  A0 1E 00 00 */	lhz r0, 0(r30)
lbl_800C2DF4:
/* 800C2DF4 000BED14  54 05 04 3E */	clrlwi r5, r0, 0x10
/* 800C2DF8 000BED18  54 00 04 21 */	rlwinm. r0, r0, 0, 0x10, 0x10
/* 800C2DFC 000BED1C  41 82 FF F4 */	beq lbl_800C2DF0
/* 800C2E00 000BED20  A0 1F 00 00 */	lhz r0, 0(r31)
/* 800C2E04 000BED24  A0 9D 00 00 */	lhz r4, 0(r29)
/* 800C2E08 000BED28  60 00 00 04 */	ori r0, r0, 4
/* 800C2E0C 000BED2C  B0 1F 00 00 */	sth r0, 0(r31)
/* 800C2E10 000BED30  38 00 08 AC */	li r0, 0x8ac
/* 800C2E14 000BED34  B0 1F 00 00 */	sth r0, 0(r31)
/* 800C2E18 000BED38  A0 1F 00 00 */	lhz r0, 0(r31)
/* 800C2E1C 000BED3C  60 00 00 01 */	ori r0, r0, 1
/* 800C2E20 000BED40  B0 1F 00 00 */	sth r0, 0(r31)
lbl_800C2E24:
/* 800C2E24 000BED44  A0 1F 00 00 */	lhz r0, 0(r31)
/* 800C2E28 000BED48  54 00 07 FF */	clrlwi. r0, r0, 0x1f
/* 800C2E2C 000BED4C  40 82 FF F8 */	bne lbl_800C2E24
/* 800C2E30 000BED50  BB 21 00 14 */	lmw r25, 0x14(r1)
/* 800C2E34 000BED54  80 01 00 34 */	lwz r0, 0x34(r1)
/* 800C2E38 000BED58  38 21 00 30 */	addi r1, r1, 0x30
/* 800C2E3C 000BED5C  7C 08 03 A6 */	mtlr r0
/* 800C2E40 000BED60  4E 80 00 20 */	blr

.global __OSStopAudioSystem
__OSStopAudioSystem:
/* 800C2E44 000BED64  7C 08 02 A6 */	mflr r0
/* 800C2E48 000BED68  3C 60 CC 00 */	lis r3, 0xCC005000@ha
/* 800C2E4C 000BED6C  90 01 00 04 */	stw r0, 4(r1)
/* 800C2E50 000BED70  38 00 08 04 */	li r0, 0x804
/* 800C2E54 000BED74  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 800C2E58 000BED78  93 E1 00 0C */	stw r31, 0xc(r1)
/* 800C2E5C 000BED7C  3B E3 50 00 */	addi r31, r3, 0xCC005000@l
/* 800C2E60 000BED80  38 63 50 00 */	addi r3, r3, 0x5000
/* 800C2E64 000BED84  93 C1 00 08 */	stw r30, 8(r1)
/* 800C2E68 000BED88  B0 1F 00 0A */	sth r0, 0xa(r31)
/* 800C2E6C 000BED8C  A0 03 00 36 */	lhz r0, 0x36(r3)
/* 800C2E70 000BED90  54 00 04 5E */	rlwinm r0, r0, 0, 0x11, 0xf
/* 800C2E74 000BED94  B0 03 00 36 */	sth r0, 0x36(r3)
/* 800C2E78 000BED98  A4 1F 00 0A */	lhzu r0, 0xa(r31)
/* 800C2E7C 000BED9C  48 00 00 08 */	b lbl_800C2E84
lbl_800C2E80:
/* 800C2E80 000BEDA0  A0 1F 00 00 */	lhz r0, 0(r31)
lbl_800C2E84:
/* 800C2E84 000BEDA4  54 00 05 6B */	rlwinm. r0, r0, 0, 0x15, 0x15
/* 800C2E88 000BEDA8  40 82 FF F8 */	bne lbl_800C2E80
/* 800C2E8C 000BEDAC  A0 1F 00 00 */	lhz r0, 0(r31)
/* 800C2E90 000BEDB0  48 00 00 08 */	b lbl_800C2E98
lbl_800C2E94:
/* 800C2E94 000BEDB4  A0 1F 00 00 */	lhz r0, 0(r31)
lbl_800C2E98:
/* 800C2E98 000BEDB8  54 00 05 AD */	rlwinm. r0, r0, 0, 0x16, 0x16
/* 800C2E9C 000BEDBC  40 82 FF F8 */	bne lbl_800C2E94
/* 800C2EA0 000BEDC0  38 00 08 AC */	li r0, 0x8ac
/* 800C2EA4 000BEDC4  3C 60 CC 00 */	lis r3, 0xCC005000@ha
/* 800C2EA8 000BEDC8  B0 1F 00 00 */	sth r0, 0(r31)
/* 800C2EAC 000BEDCC  38 00 00 00 */	li r0, 0
/* 800C2EB0 000BEDD0  B0 03 50 00 */	sth r0, 0xCC005000@l(r3)
/* 800C2EB4 000BEDD4  38 83 50 00 */	addi r4, r3, 0x5000
lbl_800C2EB8:
/* 800C2EB8 000BEDD8  A0 64 00 04 */	lhz r3, 4(r4)
/* 800C2EBC 000BEDDC  A0 04 00 06 */	lhz r0, 6(r4)
/* 800C2EC0 000BEDE0  50 60 80 1E */	rlwimi r0, r3, 0x10, 0, 0xf
/* 800C2EC4 000BEDE4  54 00 00 01 */	rlwinm. r0, r0, 0, 0, 0
/* 800C2EC8 000BEDE8  40 82 FF F0 */	bne lbl_800C2EB8
/* 800C2ECC 000BEDEC  48 00 6A C9 */	bl OSGetTick
/* 800C2ED0 000BEDF0  7C 7E 1B 78 */	mr r30, r3
lbl_800C2ED4:
/* 800C2ED4 000BEDF4  48 00 6A C1 */	bl OSGetTick
/* 800C2ED8 000BEDF8  7C 1E 18 50 */	subf r0, r30, r3
/* 800C2EDC 000BEDFC  2C 00 00 2C */	cmpwi r0, 0x2c
/* 800C2EE0 000BEE00  41 80 FF F4 */	blt lbl_800C2ED4
/* 800C2EE4 000BEE04  A0 1F 00 00 */	lhz r0, 0(r31)
/* 800C2EE8 000BEE08  60 00 00 01 */	ori r0, r0, 1
/* 800C2EEC 000BEE0C  B0 1F 00 00 */	sth r0, 0(r31)
/* 800C2EF0 000BEE10  A0 1F 00 00 */	lhz r0, 0(r31)
/* 800C2EF4 000BEE14  48 00 00 08 */	b lbl_800C2EFC
lbl_800C2EF8:
/* 800C2EF8 000BEE18  A0 1F 00 00 */	lhz r0, 0(r31)
lbl_800C2EFC:
/* 800C2EFC 000BEE1C  54 00 07 FF */	clrlwi. r0, r0, 0x1f
/* 800C2F00 000BEE20  40 82 FF F8 */	bne lbl_800C2EF8
/* 800C2F04 000BEE24  80 01 00 14 */	lwz r0, 0x14(r1)
/* 800C2F08 000BEE28  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 800C2F0C 000BEE2C  83 C1 00 08 */	lwz r30, 8(r1)
/* 800C2F10 000BEE30  7C 08 03 A6 */	mtlr r0
/* 800C2F14 000BEE34  38 21 00 10 */	addi r1, r1, 0x10
/* 800C2F18 000BEE38  4E 80 00 20 */	blr

.section .data

    .balign 8
.global lbl_801E6248
lbl_801E6248:
	# ROM: 0x1E3248
	.4byte 0x029F0010
	.4byte 0x029F0035
	.4byte 0x029F0036
	.4byte 0x029F0037
	.4byte 0x029F0038
	.4byte 0x029F0039
	.4byte 0x029F003A
	.4byte 0x029F003B
	.4byte 0x12061203
	.4byte 0x12041205
	.4byte 0x8E000092
	.4byte 0x00FF0080
	.4byte 0x80000088
	.4byte 0xFFFF0084
	.4byte 0x10000064
	.4byte 0x00200218
	.4byte 0x00000080
	.4byte 0x10000088
	.4byte 0xFFFF0084
	.4byte 0x08000064
	.4byte 0x002A191E
	.4byte 0x000026FC
	.4byte 0x02A08000
	.4byte 0x029C002B
	.4byte 0x16FC0054
	.4byte 0x16FD4348
	.4byte 0x002102FF
	.4byte 0x02FF02FF
	.4byte 0x02FF02FF
	.4byte 0x02FF02FF
	.4byte 0
	.4byte 0
